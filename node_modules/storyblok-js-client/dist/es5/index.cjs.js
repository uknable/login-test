/*!
 * storyblok-js-client v3.2.0
 * Universal JavaScript SDK for Storyblok's API
 * (c) 2020 Stobylok Team
 */
"use strict";var t=require("qs");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=e(require("axios")),n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var i=function(t){return t&&t.Math==Math&&t},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n&&n)||Function("return this")(),c=function(t){try{return!!t()}catch(t){return!0}},u=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,l={f:f&&!s.call({1:2},1)?function(t){var e=f(this,t);return!!e&&e.enumerable}:s},h=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p={}.toString,v=function(t){return p.call(t).slice(8,-1)},g="".split,d=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==v(t)?g.call(t,""):Object(t)}:Object,y=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},m=function(t){return d(y(t))},b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},w=function(t,e){if(!b(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!b(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},x={}.hasOwnProperty,O=function(t,e){return x.call(t,e)},S=a.document,E=b(S)&&b(S.createElement),j=function(t){return E?S.createElement(t):{}},k=!u&&!c((function(){return 7!=Object.defineProperty(j("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,P={f:u?T:function(t,e){if(t=m(t),e=w(e,!0),k)try{return T(t,e)}catch(t){}if(O(t,e))return h(!l.f.call(t,e),t[e])}},R=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},L=Object.defineProperty,A={f:u?L:function(t,e,r){if(R(t),e=w(e,!0),R(r),k)try{return L(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},_=u?function(t,e,r){return A.f(t,e,h(1,r))}:function(t,e,r){return t[e]=r,t},C=function(t,e){try{_(a,t,e)}catch(r){a[t]=e}return e},I=a["__core-js_shared__"]||C("__core-js_shared__",{}),M=Function.toString;"function"!=typeof I.inspectSource&&(I.inspectSource=function(t){return M.call(t)});var N,D,F,q=I.inspectSource,G=a.WeakMap,U="function"==typeof G&&/native code/.test(q(G)),V=o((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),$=0,z=Math.random(),B=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+z).toString(36)},H=V("keys"),K=function(t){return H[t]||(H[t]=B(t))},W={},Y=a.WeakMap;if(U){var X=new Y,J=X.get,Q=X.has,Z=X.set;N=function(t,e){return Z.call(X,t,e),e},D=function(t){return J.call(X,t)||{}},F=function(t){return Q.call(X,t)}}else{var tt=K("state");W[tt]=!0,N=function(t,e){return _(t,tt,e),e},D=function(t){return O(t,tt)?t[tt]:{}},F=function(t){return O(t,tt)}}var et,rt,nt={set:N,get:D,has:F,enforce:function(t){return F(t)?D(t):N(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=D(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},ot=o((function(t){var e=nt.get,r=nt.enforce,n=String(String).split("String");(t.exports=function(t,e,o,i){var c=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||O(o,"name")||_(o,"name",e),r(o).source=n.join("string"==typeof e?e:"")),t!==a?(c?!s&&t[e]&&(u=!0):delete t[e],u?t[e]=o:_(t,e,o)):u?t[e]=o:C(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||q(this)}))})),it=a,at=function(t){return"function"==typeof t?t:void 0},ct=function(t,e){return arguments.length<2?at(it[t])||at(a[t]):it[t]&&it[t][e]||a[t]&&a[t][e]},ut=Math.ceil,st=Math.floor,ft=function(t){return isNaN(t=+t)?0:(t>0?st:ut)(t)},lt=Math.min,ht=function(t){return t>0?lt(ft(t),9007199254740991):0},pt=Math.max,vt=Math.min,gt=function(t,e){var r=ft(t);return r<0?pt(r+e,0):vt(r,e)},dt=function(t){return function(e,r,n){var o,i=m(e),a=ht(i.length),c=gt(n,a);if(t&&r!=r){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===r)return t||c||0;return!t&&-1}},yt={includes:dt(!0),indexOf:dt(!1)},mt=yt.indexOf,bt=function(t,e){var r,n=m(t),o=0,i=[];for(r in n)!O(W,r)&&O(n,r)&&i.push(r);for(;e.length>o;)O(n,r=e[o++])&&(~mt(i,r)||i.push(r));return i},wt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xt=wt.concat("length","prototype"),Ot={f:Object.getOwnPropertyNames||function(t){return bt(t,xt)}},St={f:Object.getOwnPropertySymbols},Et=ct("Reflect","ownKeys")||function(t){var e=Ot.f(R(t)),r=St.f;return r?e.concat(r(t)):e},jt=function(t,e){for(var r=Et(e),n=A.f,o=P.f,i=0;i<r.length;i++){var a=r[i];O(t,a)||n(t,a,o(e,a))}},kt=/#|\.prototype\./,Tt=function(t,e){var r=Rt[Pt(t)];return r==At||r!=Lt&&("function"==typeof e?c(e):!!e)},Pt=Tt.normalize=function(t){return String(t).replace(kt,".").toLowerCase()},Rt=Tt.data={},Lt=Tt.NATIVE="N",At=Tt.POLYFILL="P",_t=Tt,Ct=P.f,It=function(t,e){var r,n,o,i,c,u=t.target,s=t.global,f=t.stat;if(r=s?a:f?a[u]||C(u,{}):(a[u]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(c=Ct(r,n))&&c.value:r[n],!_t(s?n:u+(f?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;jt(i,o)}(t.sham||o&&o.sham)&&_(i,"sham",!0),ot(r,n,i,t)}},Mt=Array.isArray||function(t){return"Array"==v(t)},Nt=function(t){return Object(y(t))},Dt=function(t,e,r){var n=w(e);n in t?A.f(t,n,h(0,r)):t[n]=r},Ft=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),qt=Ft&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=V("wks"),Ut=a.Symbol,Vt=qt?Ut:Ut&&Ut.withoutSetter||B,$t=function(t){return O(Gt,t)||(Ft&&O(Ut,t)?Gt[t]=Ut[t]:Gt[t]=Vt("Symbol."+t)),Gt[t]},zt=$t("species"),Bt=function(t,e){var r;return Mt(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Mt(r.prototype)?b(r)&&null===(r=r[zt])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},Ht=ct("navigator","userAgent")||"",Kt=a.process,Wt=Kt&&Kt.versions,Yt=Wt&&Wt.v8;Yt?rt=(et=Yt.split("."))[0]+et[1]:Ht&&(!(et=Ht.match(/Edge\/(\d+)/))||et[1]>=74)&&(et=Ht.match(/Chrome\/(\d+)/))&&(rt=et[1]);var Xt=rt&&+rt,Jt=$t("species"),Qt=function(t){return Xt>=51||!c((function(){var e=[];return(e.constructor={})[Jt]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Zt=$t("isConcatSpreadable"),te=Xt>=51||!c((function(){var t=[];return t[Zt]=!1,t.concat()[0]!==t})),ee=Qt("concat"),re=function(t){if(!b(t))return!1;var e=t[Zt];return void 0!==e?!!e:Mt(t)};It({target:"Array",proto:!0,forced:!te||!ee},{concat:function(t){var e,r,n,o,i,a=Nt(this),c=Bt(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(re(i=-1===e?a:arguments[e])){if(u+(o=ht(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,u++)r in i&&Dt(c,u,i[r])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Dt(c,u++,i)}return c.length=u,c}});var ne=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},oe=function(t,e,r){if(ne(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},ie=[].push,ae=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=5==t||i;return function(c,u,s,f){for(var l,h,p=Nt(c),v=d(p),g=oe(u,s,3),y=ht(v.length),m=0,b=f||Bt,w=e?b(c,y):r?b(c,0):void 0;y>m;m++)if((a||m in v)&&(h=g(l=v[m],m,p),t))if(e)w[m]=h;else if(h)switch(t){case 3:return!0;case 5:return l;case 6:return m;case 2:ie.call(w,l)}else if(o)return!1;return i?-1:n||o?o:w}},ce={forEach:ae(0),map:ae(1),filter:ae(2),some:ae(3),every:ae(4),find:ae(5),findIndex:ae(6)},ue=function(t,e){var r=[][t];return!!r&&c((function(){r.call(null,e||function(){throw 1},1)}))},se=Object.defineProperty,fe={},le=function(t){throw t},he=function(t,e){if(O(fe,t))return fe[t];e||(e={});var r=[][t],n=!!O(e,"ACCESSORS")&&e.ACCESSORS,o=O(e,0)?e[0]:le,i=O(e,1)?e[1]:void 0;return fe[t]=!!r&&!c((function(){if(n&&!u)return!0;var t={length:-1};n?se(t,1,{enumerable:!0,get:le}):t[1]=1,r.call(t,o,i)}))},pe=ce.forEach,ve=ue("forEach"),ge=he("forEach"),de=ve&&ge?[].forEach:function(t){return pe(this,t,arguments.length>1?arguments[1]:void 0)};It({target:"Array",proto:!0,forced:[].forEach!=de},{forEach:de});var ye=Object.keys||function(t){return bt(t,wt)},me=Object.assign,be=Object.defineProperty,we=!me||c((function(){if(u&&1!==me({b:1},me(be({},"a",{enumerable:!0,get:function(){be(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=me({},t)[r]||ye(me({},e)).join("")!=n}))?function(t,e){for(var r=Nt(t),n=arguments.length,o=1,i=St.f,a=l.f;n>o;)for(var c,s=d(arguments[o++]),f=i?ye(s).concat(i(s)):ye(s),h=f.length,p=0;h>p;)c=f[p++],u&&!a.call(s,c)||(r[c]=s[c]);return r}:me;It({target:"Object",stat:!0,forced:Object.assign!==we},{assign:we});var xe={};xe[$t("toStringTag")]="z";var Oe="[object z]"===String(xe),Se=$t("toStringTag"),Ee="Arguments"==v(function(){return arguments}()),je=Oe?v:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Se))?r:Ee?v(e):"Object"==(n=v(e))&&"function"==typeof e.callee?"Arguments":n},ke=Oe?{}.toString:function(){return"[object "+je(this)+"]"};Oe||ot(Object.prototype,"toString",ke,{unsafe:!0});var Te=l.f,Pe=function(t){return function(e){for(var r,n=m(e),o=ye(n),i=o.length,a=0,c=[];i>a;)r=o[a++],u&&!Te.call(n,r)||c.push(t?[r,n[r]]:n[r]);return c}},Re={entries:Pe(!0),values:Pe(!1)}.values;It({target:"Object",stat:!0},{values:function(t){return Re(t)}});var Le=a.Promise,Ae=A.f,_e=$t("toStringTag"),Ce=function(t,e,r){t&&!O(t=r?t:t.prototype,_e)&&Ae(t,_e,{configurable:!0,value:e})},Ie=$t("species"),Me=function(t){var e=ct(t),r=A.f;u&&e&&!e[Ie]&&r(e,Ie,{configurable:!0,get:function(){return this}})},Ne={},De=$t("iterator"),Fe=Array.prototype,qe=$t("iterator"),Ge=function(t,e,r,n){try{return n?e(R(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&R(o.call(t)),e}},Ue=o((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,r,n,o,i){var a,c,u,s,f,l,h,p,v=oe(r,n,o?2:1);if(i)a=t;else{if("function"!=typeof(c=function(t){if(null!=t)return t[qe]||t["@@iterator"]||Ne[je(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(p=c)&&(Ne.Array===p||Fe[De]===p)){for(u=0,s=ht(t.length);s>u;u++)if((f=o?v(R(h=t[u])[0],h[1]):v(t[u]))&&f instanceof e)return f;return new e(!1)}a=c.call(t)}for(l=a.next;!(h=l.call(a)).done;)if("object"==typeof(f=Ge(a,v,h.value,o))&&f&&f instanceof e)return f;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Ve=$t("iterator"),$e=!1;try{var ze=0,Be={next:function(){return{done:!!ze++}},return:function(){$e=!0}};Be[Ve]=function(){return this},Array.from(Be,(function(){throw 2}))}catch(t){}var He,Ke,We,Ye=$t("species"),Xe=function(t,e){var r,n=R(t).constructor;return void 0===n||null==(r=R(n)[Ye])?e:ne(r)},Je=ct("document","documentElement"),Qe=/(iphone|ipod|ipad).*applewebkit/i.test(Ht),Ze=a.location,tr=a.setImmediate,er=a.clearImmediate,rr=a.process,nr=a.MessageChannel,or=a.Dispatch,ir=0,ar={},cr=function(t){if(ar.hasOwnProperty(t)){var e=ar[t];delete ar[t],e()}},ur=function(t){return function(){cr(t)}},sr=function(t){cr(t.data)},fr=function(t){a.postMessage(t+"",Ze.protocol+"//"+Ze.host)};tr&&er||(tr=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return ar[++ir]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},He(ir),ir},er=function(t){delete ar[t]},"process"==v(rr)?He=function(t){rr.nextTick(ur(t))}:or&&or.now?He=function(t){or.now(ur(t))}:nr&&!Qe?(We=(Ke=new nr).port2,Ke.port1.onmessage=sr,He=oe(We.postMessage,We,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||c(fr)||"file:"===Ze.protocol?He="onreadystatechange"in j("script")?function(t){Je.appendChild(j("script")).onreadystatechange=function(){Je.removeChild(this),cr(t)}}:function(t){setTimeout(ur(t),0)}:(He=fr,a.addEventListener("message",sr,!1)));var lr,hr,pr,vr,gr,dr,yr,mr,br={set:tr,clear:er},wr=P.f,xr=br.set,Or=a.MutationObserver||a.WebKitMutationObserver,Sr=a.process,Er=a.Promise,jr="process"==v(Sr),kr=wr(a,"queueMicrotask"),Tr=kr&&kr.value;Tr||(lr=function(){var t,e;for(jr&&(t=Sr.domain)&&t.exit();hr;){e=hr.fn,hr=hr.next;try{e()}catch(t){throw hr?vr():pr=void 0,t}}pr=void 0,t&&t.enter()},jr?vr=function(){Sr.nextTick(lr)}:Or&&!Qe?(gr=!0,dr=document.createTextNode(""),new Or(lr).observe(dr,{characterData:!0}),vr=function(){dr.data=gr=!gr}):Er&&Er.resolve?(yr=Er.resolve(void 0),mr=yr.then,vr=function(){mr.call(yr,lr)}):vr=function(){xr.call(a,lr)});var Pr,Rr,Lr,Ar,_r=Tr||function(t){var e={fn:t,next:void 0};pr&&(pr.next=e),hr||(hr=e,vr()),pr=e},Cr=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=ne(e),this.reject=ne(r)},Ir={f:function(t){return new Cr(t)}},Mr=function(t,e){if(R(t),b(e)&&e.constructor===t)return e;var r=Ir.f(t);return(0,r.resolve)(e),r.promise},Nr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Dr=br.set,Fr=$t("species"),qr="Promise",Gr=nt.get,Ur=nt.set,Vr=nt.getterFor(qr),$r=Le,zr=a.TypeError,Br=a.document,Hr=a.process,Kr=ct("fetch"),Wr=Ir.f,Yr=Wr,Xr="process"==v(Hr),Jr=!!(Br&&Br.createEvent&&a.dispatchEvent),Qr=_t(qr,(function(){if(!(q($r)!==String($r))){if(66===Xt)return!0;if(!Xr&&"function"!=typeof PromiseRejectionEvent)return!0}if(Xt>=51&&/native code/.test($r))return!1;var t=$r.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Fr]=e,!(t.then((function(){}))instanceof e)})),Zr=Qr||!function(t,e){if(!e&&!$e)return!1;var r=!1;try{var n={};n[Ve]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r}((function(t){$r.all(t).catch((function(){}))})),tn=function(t){var e;return!(!b(t)||"function"!=typeof(e=t.then))&&e},en=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;_r((function(){for(var o=e.value,i=1==e.state,a=0;n.length>a;){var c,u,s,f=n[a++],l=i?f.ok:f.fail,h=f.resolve,p=f.reject,v=f.domain;try{l?(i||(2===e.rejection&&an(t,e),e.rejection=1),!0===l?c=o:(v&&v.enter(),c=l(o),v&&(v.exit(),s=!0)),c===f.promise?p(zr("Promise-chain cycle")):(u=tn(c))?u.call(c,h,p):h(c)):p(o)}catch(t){v&&!s&&v.exit(),p(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&nn(t,e)}))}},rn=function(t,e,r){var n,o;Jr?((n=Br.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),a.dispatchEvent(n)):n={promise:e,reason:r},(o=a["on"+t])?o(n):"unhandledrejection"===t&&function(t,e){var r=a.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},nn=function(t,e){Dr.call(a,(function(){var r,n=e.value;if(on(e)&&(r=Nr((function(){Xr?Hr.emit("unhandledRejection",n,t):rn("unhandledrejection",t,n)})),e.rejection=Xr||on(e)?2:1,r.error))throw r.value}))},on=function(t){return 1!==t.rejection&&!t.parent},an=function(t,e){Dr.call(a,(function(){Xr?Hr.emit("rejectionHandled",t):rn("rejectionhandled",t,e.value)}))},cn=function(t,e,r,n){return function(o){t(e,r,o,n)}},un=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,en(t,e,!0))},sn=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw zr("Promise can't be resolved itself");var o=tn(r);o?_r((function(){var n={done:!1};try{o.call(r,cn(sn,t,n,e),cn(un,t,n,e))}catch(r){un(t,n,r,e)}})):(e.value=r,e.state=1,en(t,e,!1))}catch(r){un(t,{done:!1},r,e)}}};Qr&&($r=function(t){!function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}(this,$r,qr),ne(t),Pr.call(this);var e=Gr(this);try{t(cn(sn,this,e),cn(un,this,e))}catch(t){un(this,e,t)}},(Pr=function(t){Ur(this,{type:qr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,r){for(var n in e)ot(t,n,e[n],r);return t}($r.prototype,{then:function(t,e){var r=Vr(this),n=Wr(Xe(this,$r));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Xr?Hr.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&en(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Rr=function(){var t=new Pr,e=Gr(t);this.promise=t,this.resolve=cn(sn,t,e),this.reject=cn(un,t,e)},Ir.f=Wr=function(t){return t===$r||t===Lr?new Rr(t):Yr(t)},"function"==typeof Le&&(Ar=Le.prototype.then,ot(Le.prototype,"then",(function(t,e){var r=this;return new $r((function(t,e){Ar.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Kr&&It({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Mr($r,Kr.apply(a,arguments))}}))),It({global:!0,wrap:!0,forced:Qr},{Promise:$r}),Ce($r,qr,!1),Me(qr),Lr=ct(qr),It({target:qr,stat:!0,forced:Qr},{reject:function(t){var e=Wr(this);return e.reject.call(void 0,t),e.promise}}),It({target:qr,stat:!0,forced:Qr},{resolve:function(t){return Mr(this,t)}}),It({target:qr,stat:!0,forced:Zr},{all:function(t){var e=this,r=Wr(e),n=r.resolve,o=r.reject,i=Nr((function(){var r=ne(e.resolve),i=[],a=0,c=1;Ue(t,(function(t){var u=a++,s=!1;i.push(void 0),c++,r.call(e,t).then((function(t){s||(s=!0,i[u]=t,--c||n(i))}),o)})),--c||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=Wr(e),n=r.reject,o=Nr((function(){var o=ne(e.resolve);Ue(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var fn=function(){var t=R(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function ln(t,e){return RegExp(t,e)}var hn={UNSUPPORTED_Y:c((function(){var t=ln("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:c((function(){var t=ln("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},pn=RegExp.prototype.exec,vn=String.prototype.replace,gn=pn,dn=function(){var t=/a/,e=/b*/g;return pn.call(t,"a"),pn.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),yn=hn.UNSUPPORTED_Y||hn.BROKEN_CARET,mn=void 0!==/()??/.exec("")[1];(dn||mn||yn)&&(gn=function(t){var e,r,n,o,i=this,a=yn&&i.sticky,c=fn.call(i),u=i.source,s=0,f=t;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),f=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(u="(?: "+u+")",f=" "+f,s++),r=new RegExp("^(?:"+u+")",c)),mn&&(r=new RegExp("^"+u+"$(?!\\s)",c)),dn&&(e=i.lastIndex),n=pn.call(a?r:i,f),a?n?(n.input=n.input.slice(s),n[0]=n[0].slice(s),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:dn&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),mn&&n&&n.length>1&&vn.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var bn=gn;It({target:"RegExp",proto:!0,forced:/./.exec!==bn},{exec:bn});var wn=$t("species"),xn=!c((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),On="$0"==="a".replace(/./,"$0"),Sn=$t("replace"),En=!!/./[Sn]&&""===/./[Sn]("a","$0"),jn=!c((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),kn=function(t,e,r,n){var o=$t(t),i=!c((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!c((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[wn]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||"replace"===t&&(!xn||!On||En)||"split"===t&&!jn){var u=/./[o],s=r(o,""[t],(function(t,e,r,n,o){return e.exec===bn?i&&!o?{done:!0,value:u.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:On,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:En}),f=s[0],l=s[1];ot(String.prototype,t,f),ot(RegExp.prototype,o,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}n&&_(RegExp.prototype[o],"sham",!0)},Tn=$t("match"),Pn=function(t){var e;return b(t)&&(void 0!==(e=t[Tn])?!!e:"RegExp"==v(t))},Rn=function(t){return function(e,r){var n,o,i=String(y(e)),a=ft(r),c=i.length;return a<0||a>=c?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Ln={codeAt:Rn(!1),charAt:Rn(!0)}.charAt,An=function(t,e,r){return e+(r?Ln(t,e).length:1)},_n=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==v(t))throw TypeError("RegExp#exec called on incompatible receiver");return bn.call(t,e)},Cn=[].push,In=Math.min,Mn=!c((function(){return!RegExp(4294967295,"y")}));kn("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(y(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!Pn(t))return e.call(n,t,o);for(var i,a,c,u=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=new RegExp(t.source,s+"g");(i=bn.call(l,n))&&!((a=l.lastIndex)>f&&(u.push(n.slice(f,i.index)),i.length>1&&i.index<n.length&&Cn.apply(u,i.slice(1)),c=i[0].length,f=a,u.length>=o));)l.lastIndex===i.index&&l.lastIndex++;return f===n.length?!c&&l.test("")||u.push(""):u.push(n.slice(f)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var o=y(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,r):n.call(String(o),e,r)},function(t,o){var i=r(n,t,this,o,n!==e);if(i.done)return i.value;var a=R(t),c=String(this),u=Xe(a,RegExp),s=a.unicode,f=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Mn?"y":"g"),l=new u(Mn?a:"^(?:"+a.source+")",f),h=void 0===o?4294967295:o>>>0;if(0===h)return[];if(0===c.length)return null===_n(l,c)?[c]:[];for(var p=0,v=0,g=[];v<c.length;){l.lastIndex=Mn?v:0;var d,y=_n(l,Mn?c:c.slice(v));if(null===y||(d=In(ht(l.lastIndex+(Mn?0:v)),c.length))===p)v=An(c,v,s);else{if(g.push(c.slice(p,v)),g.length===h)return g;for(var m=1;m<=y.length-1;m++)if(g.push(y[m]),g.length===h)return g;v=p=d}}return g.push(c.slice(p)),g}]}),!Mn);for(var Nn in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Dn=a[Nn],Fn=Dn&&Dn.prototype;if(Fn&&Fn.forEach!==de)try{_(Fn,"forEach",de)}catch(t){Fn.forEach=de}}var qn=o((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return L()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=f(t,e,r);if("normal"===u.type){if(n=r.done?v:h,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function d(){}function y(){}function m(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(R([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=m.prototype=d.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function j(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=f(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function R(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:L}}function L(){return{value:e,done:!0}}return y.prototype=O.constructor=m,m.constructor=y,y.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},S(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),u(O,c,"Generator"),O[i]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var Gn=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n};var Un=function(t){if(Array.isArray(t))return Gn(t)};var Vn=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var $n=function(t,e){if(t){if("string"==typeof t)return Gn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gn(t,e):void 0}};var zn=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var Bn=function(t){return Un(t)||Vn(t)||$n(t)||zn()};function Hn(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var Kn=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Hn(i,n,o,a,c,"next",t)}function c(t){Hn(i,n,o,a,c,"throw",t)}a(void 0)}))}};var Wn=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function Yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Xn=function(t,e,r){return e&&Yn(t.prototype,e),r&&Yn(t,r),t},Jn=ce.filter,Qn=Qt("filter"),Zn=he("filter");It({target:"Array",proto:!0,forced:!Qn||!Zn},{filter:function(t){return Jn(this,t,arguments.length>1?arguments[1]:void 0)}});var to=yt.indexOf,eo=[].indexOf,ro=!!eo&&1/[1].indexOf(1,-0)<0,no=ue("indexOf"),oo=he("indexOf",{ACCESSORS:!0,1:0});It({target:"Array",proto:!0,forced:ro||!no||!oo},{indexOf:function(t){return ro?eo.apply(this,arguments)||0:to(this,t,arguments.length>1?arguments[1]:void 0)}});var io=A.f,ao=Function.prototype,co=ao.toString,uo=/^\s*function ([^ (]*)/;function so(t){return"number"==typeof t&&(t==t&&t!==1/0&&t!==-1/0)}function fo(t,e,r){if(!so(e))throw new TypeError("Expected `limit` to be a finite number");if(!so(r))throw new TypeError("Expected `interval` to be a finite number");var n=[],o=[],i=0,a=function e(){i++;var a=setTimeout((function(){i--,n.length>0&&e(),o=o.filter((function(t){return t!==a}))}),r);o.indexOf(a)<0&&o.push(a);var c=n.shift();c.resolve(t.apply(c.self,c.args))},c=function(){var t=arguments,r=this;return new Promise((function(o,c){n.push({resolve:o,reject:c,args:t,self:r}),i<e&&a()}))};return c.abort=function(){o.forEach(clearTimeout),o=[],n.forEach((function(t){t.reject(new throttle.AbortError)})),n.length=0},c}u&&!("name"in ao)&&io(ao,"name",{configurable:!0,get:function(){try{return co.call(this).match(uo)[1]}catch(t){return""}}}),fo.AbortError=function(){Error.call(this,"Throttled function aborted"),this.name="AbortError"};var lo=[].join,ho=d!=Object,po=ue("join",",");It({target:"Array",proto:!0,forced:ho||!po},{join:function(t){return lo.call(m(this),void 0===t?",":t)}});var vo=ce.map,go=Qt("map"),yo=he("map");It({target:"Array",proto:!0,forced:!go||!yo},{map:function(t){return vo(this,t,arguments.length>1?arguments[1]:void 0)}});var mo=[].reverse,bo=[1,2];It({target:"Array",proto:!0,forced:String(bo)===String(bo.reverse())},{reverse:function(){return Mt(this)&&(this.length=this.length),mo.call(this)}});var wo=Qt("slice"),xo=he("slice",{ACCESSORS:!0,0:0,1:2}),Oo=$t("species"),So=[].slice,Eo=Math.max;It({target:"Array",proto:!0,forced:!wo||!xo},{slice:function(t,e){var r,n,o,i=m(this),a=ht(i.length),c=gt(t,a),u=gt(void 0===e?a:e,a);if(Mt(i)&&("function"!=typeof(r=i.constructor)||r!==Array&&!Mt(r.prototype)?b(r)&&null===(r=r[Oo])&&(r=void 0):r=void 0,r===Array||void 0===r))return So.call(i,c,u);for(n=new(void 0===r?Array:r)(Eo(u-c,0)),o=0;c<u;c++,o++)c in i&&Dt(n,o,i[c]);return n.length=o,n}});var jo=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return R(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),ko=A.f,To=Ot.f,Po=nt.set,Ro=$t("match"),Lo=a.RegExp,Ao=Lo.prototype,_o=/a/g,Co=/a/g,Io=new Lo(_o)!==_o,Mo=hn.UNSUPPORTED_Y;if(u&&_t("RegExp",!Io||Mo||c((function(){return Co[Ro]=!1,Lo(_o)!=_o||Lo(Co)==Co||"/a/i"!=Lo(_o,"i")})))){for(var No=function(t,e){var r,n=this instanceof No,o=Pn(t),i=void 0===e;if(!n&&o&&t.constructor===No&&i)return t;Io?o&&!i&&(t=t.source):t instanceof No&&(i&&(e=fn.call(t)),t=t.source),Mo&&(r=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a,c,u,s,f,l=(a=Io?new Lo(t,e):Lo(t,e),c=n?this:Ao,u=No,jo&&"function"==typeof(s=c.constructor)&&s!==u&&b(f=s.prototype)&&f!==u.prototype&&jo(a,f),a);return Mo&&r&&Po(l,{sticky:r}),l},Do=function(t){t in No||ko(No,t,{configurable:!0,get:function(){return Lo[t]},set:function(e){Lo[t]=e}})},Fo=To(Lo),qo=0;Fo.length>qo;)Do(Fo[qo++]);Ao.constructor=No,No.prototype=Ao,ot(a,"RegExp",No)}Me("RegExp");var Go=RegExp.prototype,Uo=Go.toString,Vo=c((function(){return"/a/b"!=Uo.call({source:"a",flags:"b"})})),$o="toString"!=Uo.name;(Vo||$o)&&ot(RegExp.prototype,"toString",(function(){var t=R(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in Go)?fn.call(t):r)}),{unsafe:!0});var zo=Math.max,Bo=Math.min,Ho=Math.floor,Ko=/\$([$&'`]|\d\d?|<[^>]*>)/g,Wo=/\$([$&'`]|\d\d?)/g;kn("replace",2,(function(t,e,r,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=n.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(r,n){var o=y(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):e.call(String(o),r,n)},function(t,n){if(!o&&i||"string"==typeof n&&-1===n.indexOf(a)){var u=r(e,t,this,n);if(u.done)return u.value}var s=R(t),f=String(this),l="function"==typeof n;l||(n=String(n));var h=s.global;if(h){var p=s.unicode;s.lastIndex=0}for(var v=[];;){var g=_n(s,f);if(null===g)break;if(v.push(g),!h)break;""===String(g[0])&&(s.lastIndex=An(f,ht(s.lastIndex),p))}for(var d,y="",m=0,b=0;b<v.length;b++){g=v[b];for(var w=String(g[0]),x=zo(Bo(ft(g.index),f.length),0),O=[],S=1;S<g.length;S++)O.push(void 0===(d=g[S])?d:String(d));var E=g.groups;if(l){var j=[w].concat(O,x,f);void 0!==E&&j.push(E);var k=String(n.apply(void 0,j))}else k=c(w,f,x,O,E,n);x>=m&&(y+=f.slice(m,x)+k,m=x+w.length)}return y+f.slice(m)}];function c(t,r,n,o,i,a){var c=n+t.length,u=o.length,s=Wo;return void 0!==i&&(i=Nt(i),s=Ko),e.call(a,s,(function(e,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=i[a.slice(1,-1)];break;default:var f=+a;if(0===f)return e;if(f>u){var l=Ho(f/10);return 0===l?e:l<=u?void 0===o[l-1]?a.charAt(1):o[l-1]+a.charAt(1):e}s=o[f-1]}return void 0===s?"":s}))}}));var Yo,Xo=u?Object.defineProperties:function(t,e){R(t);for(var r,n=ye(e),o=n.length,i=0;o>i;)A.f(t,r=n[i++],e[r]);return t},Jo=K("IE_PROTO"),Qo=function(){},Zo=function(t){return"<script>"+t+"<\/script>"},ti=function(){try{Yo=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ti=Yo?function(t){t.write(Zo("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Yo):((e=j("iframe")).style.display="none",Je.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Zo("document.F=Object")),t.close(),t.F);for(var r=wt.length;r--;)delete ti.prototype[wt[r]];return ti()};W[Jo]=!0;var ei=Object.create||function(t,e){var r;return null!==t?(Qo.prototype=R(t),r=new Qo,Qo.prototype=null,r[Jo]=t):r=ti(),void 0===e?r:Xo(r,e)},ri=Ot.f,ni={}.toString,oi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ii={f:function(t){return oi&&"[object Window]"==ni.call(t)?function(t){try{return ri(t)}catch(t){return oi.slice()}}(t):ri(m(t))}},ai={f:$t},ci=A.f,ui=ce.forEach,si=K("hidden"),fi=$t("toPrimitive"),li=nt.set,hi=nt.getterFor("Symbol"),pi=Object.prototype,vi=a.Symbol,gi=ct("JSON","stringify"),di=P.f,yi=A.f,mi=ii.f,bi=l.f,wi=V("symbols"),xi=V("op-symbols"),Oi=V("string-to-symbol-registry"),Si=V("symbol-to-string-registry"),Ei=V("wks"),ji=a.QObject,ki=!ji||!ji.prototype||!ji.prototype.findChild,Ti=u&&c((function(){return 7!=ei(yi({},"a",{get:function(){return yi(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=di(pi,e);n&&delete pi[e],yi(t,e,r),n&&t!==pi&&yi(pi,e,n)}:yi,Pi=function(t,e){var r=wi[t]=ei(vi.prototype);return li(r,{type:"Symbol",tag:t,description:e}),u||(r.description=e),r},Ri=qt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof vi},Li=function(t,e,r){t===pi&&Li(xi,e,r),R(t);var n=w(e,!0);return R(r),O(wi,n)?(r.enumerable?(O(t,si)&&t[si][n]&&(t[si][n]=!1),r=ei(r,{enumerable:h(0,!1)})):(O(t,si)||yi(t,si,h(1,{})),t[si][n]=!0),Ti(t,n,r)):yi(t,n,r)},Ai=function(t,e){R(t);var r=m(e),n=ye(r).concat(Mi(r));return ui(n,(function(e){u&&!_i.call(r,e)||Li(t,e,r[e])})),t},_i=function(t){var e=w(t,!0),r=bi.call(this,e);return!(this===pi&&O(wi,e)&&!O(xi,e))&&(!(r||!O(this,e)||!O(wi,e)||O(this,si)&&this[si][e])||r)},Ci=function(t,e){var r=m(t),n=w(e,!0);if(r!==pi||!O(wi,n)||O(xi,n)){var o=di(r,n);return!o||!O(wi,n)||O(r,si)&&r[si][n]||(o.enumerable=!0),o}},Ii=function(t){var e=mi(m(t)),r=[];return ui(e,(function(t){O(wi,t)||O(W,t)||r.push(t)})),r},Mi=function(t){var e=t===pi,r=mi(e?xi:m(t)),n=[];return ui(r,(function(t){!O(wi,t)||e&&!O(pi,t)||n.push(wi[t])})),n};(Ft||(ot((vi=function(){if(this instanceof vi)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=B(t),r=function(t){this===pi&&r.call(xi,t),O(this,si)&&O(this[si],e)&&(this[si][e]=!1),Ti(this,e,h(1,t))};return u&&ki&&Ti(pi,e,{configurable:!0,set:r}),Pi(e,t)}).prototype,"toString",(function(){return hi(this).tag})),ot(vi,"withoutSetter",(function(t){return Pi(B(t),t)})),l.f=_i,A.f=Li,P.f=Ci,Ot.f=ii.f=Ii,St.f=Mi,ai.f=function(t){return Pi($t(t),t)},u&&(yi(vi.prototype,"description",{configurable:!0,get:function(){return hi(this).description}}),ot(pi,"propertyIsEnumerable",_i,{unsafe:!0}))),It({global:!0,wrap:!0,forced:!Ft,sham:!Ft},{Symbol:vi}),ui(ye(Ei),(function(t){!function(t){var e=it.Symbol||(it.Symbol={});O(e,t)||ci(e,t,{value:ai.f(t)})}(t)})),It({target:"Symbol",stat:!0,forced:!Ft},{for:function(t){var e=String(t);if(O(Oi,e))return Oi[e];var r=vi(e);return Oi[e]=r,Si[r]=e,r},keyFor:function(t){if(!Ri(t))throw TypeError(t+" is not a symbol");if(O(Si,t))return Si[t]},useSetter:function(){ki=!0},useSimple:function(){ki=!1}}),It({target:"Object",stat:!0,forced:!Ft,sham:!u},{create:function(t,e){return void 0===e?ei(t):Ai(ei(t),e)},defineProperty:Li,defineProperties:Ai,getOwnPropertyDescriptor:Ci}),It({target:"Object",stat:!0,forced:!Ft},{getOwnPropertyNames:Ii,getOwnPropertySymbols:Mi}),It({target:"Object",stat:!0,forced:c((function(){St.f(1)}))},{getOwnPropertySymbols:function(t){return St.f(Nt(t))}}),gi)&&It({target:"JSON",stat:!0,forced:!Ft||c((function(){var t=vi();return"[null]"!=gi([t])||"{}"!=gi({a:t})||"{}"!=gi(Object(t))}))},{stringify:function(t,e,r){for(var n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e,(b(e)||void 0!==t)&&!Ri(t))return Mt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Ri(e))return e}),o[1]=e,gi.apply(null,o)}});vi.prototype[fi]||_(vi.prototype,fi,vi.prototype.valueOf),Ce(vi,"Symbol"),W[si]=!0;var Ni=P.f,Di=c((function(){Ni(1)}));It({target:"Object",stat:!0,forced:!u||Di,sham:!u},{getOwnPropertyDescriptor:function(t,e){return Ni(m(t),e)}}),It({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(t){for(var e,r,n=m(t),o=P.f,i=Et(n),a={},c=0;i.length>c;)void 0!==(r=o(n,e=i[c++]))&&Dt(a,e,r);return a}}),It({target:"Object",stat:!0,forced:c((function(){ye(1)}))},{keys:function(t){return ye(Nt(t))}});var Fi,qi=/"/g;It({target:"String",proto:!0,forced:(Fi="anchor",c((function(){var t=""[Fi]('"');return t!==t.toLowerCase()||t.split('"').length>3})))},{anchor:function(t){return e="a",r="name",n=t,o=String(y(this)),i="<"+e,""!==r&&(i+=" "+r+'="'+String(n).replace(qi,"&quot;")+'"'),i+">"+o+"</"+e+">";var e,r,n,o,i}});var Gi=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};function Ui(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var Vi=function(t,e){if(!t)return null;var r={};for(var n in t){var o=t[n];e.indexOf(n)>-1&&null!==o&&(r[n]=o)}return r},$i={nodes:{horizontal_rule:function(t){return{singleTag:"hr"}},blockquote:function(t){return{tag:"blockquote"}},bullet_list:function(t){return{tag:"ul"}},code_block:function(t){return{tag:["pre",{tag:"code",attrs:t.attrs}]}},hard_break:function(t){return{singleTag:"br"}},heading:function(t){return{tag:"h".concat(t.attrs.level)}},image:function(t){return{singleTag:[{tag:"img",attrs:Vi(t.attrs,["src","alt","title"])}]}},list_item:function(t){return{tag:"li"}},ordered_list:function(t){return{tag:"ol"}},paragraph:function(t){return{tag:"p"}}},marks:{bold:function(){return{tag:"b"}},strike:function(){return{tag:"strike"}},underline:function(){return{tag:"u"}},strong:function(){return{tag:"strong"}},code:function(){return{tag:"code"}},italic:function(){return{tag:"i"}},link:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(r),!0).forEach((function(e){Gi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.attrs),r=t.attrs.linktype;return"email"===(void 0===r?"url":r)&&(e.href="mailto:".concat(e.href)),e.anchor&&(e.href="".concat(e.href,"#").concat(e.anchor),delete e.anchor),{tag:[{tag:"a",attrs:e}]}},styled:function(t){return{tag:[{tag:"span",attrs:t.attrs}]}}}},zi=function(){function t(e){Wn(this,t),e||(e=$i),this.marks=e.marks||[],this.nodes=e.nodes||[]}return Xn(t,[{key:"addNode",value:function(t,e){this.nodes[t]=e}},{key:"addMark",value:function(t,e){this.marks[t]=e}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.content&&Array.isArray(e.content)){var r="";return e.content.forEach((function(e){r+=t.renderNode(e)})),r}return console.warn("The render method must receive an object with a content field, which is an array"),""}},{key:"renderNode",value:function(t){var e=this,r=[];t.marks&&t.marks.forEach((function(t){var n=e.getMatchingMark(t);n&&r.push(e.renderOpeningTag(n.tag))}));var n,o,i,a,c=this.getMatchingNode(t);return c&&c.tag&&r.push(this.renderOpeningTag(c.tag)),t.content?t.content.forEach((function(t){r.push(e.renderNode(t))})):t.text?r.push((n=t.text,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=/[&<>"']/g,a=RegExp(i.source),n&&a.test(n)?n.replace(i,(function(t){return o[t]})):n)):c&&c.singleTag?r.push(this.renderTag(c.singleTag," /")):c&&c.html&&r.push(c.html),c&&c.tag&&r.push(this.renderClosingTag(c.tag)),t.marks&&t.marks.slice(0).reverse().forEach((function(t){var n=e.getMatchingMark(t);n&&r.push(e.renderClosingTag(n.tag))})),r.join("")}},{key:"renderTag",value:function(t,e){return t.constructor===String?"<".concat(t).concat(e,">"):t.map((function(t){if(t.constructor===String)return"<".concat(t).concat(e,">");var r="<".concat(t.tag);if(t.attrs)for(var n in t.attrs){var o=t.attrs[n];null!==o&&(r+=" ".concat(n,'="').concat(o,'"'))}return"".concat(r).concat(e,">")})).join("")}},{key:"renderOpeningTag",value:function(t){return this.renderTag(t,"")}},{key:"renderClosingTag",value:function(t){return t.constructor===String?"</".concat(t,">"):t.slice(0).reverse().map((function(t){return t.constructor===String?"</".concat(t,">"):"</".concat(t.tag,">")})).join("")}},{key:"getMatchingNode",value:function(t){if("function"==typeof this.nodes[t.type])return this.nodes[t.type](t)}},{key:"getMatchingMark",value:function(t){if("function"==typeof this.marks[t.type])return this.marks[t.type](t)}}]),t}();function Bi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bi(Object(r),!0).forEach((function(e){Gi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ki=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.indexOf("/cdn/")>-1},Wi=function(t){return new Promise((function(e){return setTimeout(e,t)}))},Yi={},Xi=function(){function e(t,n){if(Wn(this,e),!n){var o=t.region?"-".concat(t.region):"",i=!1===t.https?"http":"https";n="".concat(i,"://api").concat(o,".storyblok.com/v1")}var a=Object.assign({},t.headers),c=5;void 0!==t.oauthToken&&(a.Authorization=t.oauthToken,c=3),void 0!==t.rateLimit&&(c=t.rateLimit),this.richTextResolver=new zi(t.richTextSchema),"function"==typeof t.componentResolver&&this.setComponentResolver(t.componentResolver),this.maxRetries=t.maxRetries||5,this.throttle=fo(this.throttledRequest,c,1e3),this.cacheVersion=this.cacheVersion||this.newVersion(),this.accessToken=t.accessToken,this.cache=t.cache||{clear:"manual"},this.client=r.default.create({baseURL:n,timeout:t.timeout||0,headers:a,proxy:t.proxy||!1}),t.responseInterceptor&&this.client.interceptors.response.use((function(e){return t.responseInterceptor(e)}))}var n,o;return Xn(e,[{key:"setComponentResolver",value:function(t){this.richTextResolver.addNode("blok",(function(e){var r="";return e.attrs.body.forEach((function(e){r+=t(e.component,e)})),{html:r}}))}},{key:"parseParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.version||(t.version="published"),t.cv||(t.cv=this.cacheVersion),t.token||(t.token=this.getToken()),t}},{key:"factoryParamOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ki(t)?this.parseParams(e):e}},{key:"makeRequest",value:function(t,e,r,n){var o=this.factoryParamOptions(t,function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Hi(Hi({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{per_page:t,page:e})}(e,r,n));return this.cacheResponse(t,o)}},{key:"get",value:function(t,e){var r="/".concat(t),n=this.factoryParamOptions(r,e);return this.cacheResponse(r,n)}},{key:"getAll",value:(o=Kn(qn.mark((function t(e){var r,n,o,i,a,c,u,s,f,l,h=arguments;return qn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},n=h.length>2?h[2]:void 0,o=r.per_page||25,i=1,a="/".concat(e),c=a.split("/"),n=n||c[c.length-1],t.next=9,this.makeRequest(a,r,o,i);case 9:u=t.sent,s=Object.values(u.data[n]),f=u.total,l=Math.ceil(f/o);case 13:if(!(i<l)){t.next=21;break}return i++,t.next=17,this.makeRequest(a,r,o,i);case 17:u=t.sent,s=[].concat(Bn(s),Bn(Object.values(u.data[n]))),t.next=13;break;case 21:return t.abrupt("return",s);case 22:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"post",value:function(t,e){var r="/".concat(t);return this.throttle("post",r,e)}},{key:"put",value:function(t,e){var r="/".concat(t);return this.throttle("put",r,e)}},{key:"delete",value:function(t,e){var r="/".concat(t);return this.throttle("delete",r,e)}},{key:"getStories",value:function(t){return this.get("cdn/stories",t)}},{key:"getStory",value:function(t,e){return this.get("cdn/stories/".concat(t),e)}},{key:"setToken",value:function(t){this.accessToken=t}},{key:"getToken",value:function(){return this.accessToken}},{key:"cacheResponse",value:function(e,r,n){var o=this;return void 0===n&&(n=0),new Promise(function(){var i=Kn(qn.mark((function i(a,c){var u,s,f,l,h;return qn.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(u=t.stringify({url:e,params:r},{arrayFormat:"brackets"}),s=o.cacheProvider(),"auto"!==o.cache.clear||"draft"!==r.version){i.next=5;break}return i.next=5,o.flushCache();case 5:if("published"!==r.version||"/cdn/spaces/me"==e){i.next=11;break}return i.next=8,s.get(u);case 8:if(!(f=i.sent)){i.next=11;break}return i.abrupt("return",a(f));case 11:return i.prev=11,i.next=14,o.throttle("get",e,{params:r,paramsSerializer:function(e){return t.stringify(e,{arrayFormat:"brackets"})}});case 14:if(l=i.sent,h={data:l.data,headers:l.headers},l.headers["per-page"]&&(h=Object.assign({},h,{perPage:parseInt(l.headers["per-page"]),total:parseInt(l.headers.total)})),200==l.status){i.next=19;break}return i.abrupt("return",c(l));case 19:"published"===r.version&&"/cdn/spaces/me"!=e&&s.set(u,h),a(h),i.next=33;break;case 23:if(i.prev=23,i.t0=i.catch(11),!i.t0.response||429!==i.t0.response.status){i.next=32;break}if(!((n+=1)<o.maxRetries)){i.next=32;break}return console.log("Hit rate limit. Retrying in ".concat(n," seconds.")),i.next=31,Wi(1e3*n);case 31:return i.abrupt("return",o.cacheResponse(e,r,n).then(a).catch(c));case 32:c(i.t0);case 33:case"end":return i.stop()}}),i,null,[[11,23]])})));return function(t,e){return i.apply(this,arguments)}}())}},{key:"throttledRequest",value:function(t,e,r){return this.client[t](e,r)}},{key:"newVersion",value:function(){return(new Date).getTime()}},{key:"cacheProvider",value:function(){switch(this.cache.type){case"memory":return{get:function(t){return Yi[t]},getAll:function(){return Yi},set:function(t,e){Yi[t]=e},flush:function(){Yi={}}};default:return this.cacheVersion=this.newVersion(),{get:function(){},getAll:function(){},set:function(){},flush:function(){}}}}},{key:"flushCache",value:(n=Kn(qn.mark((function t(){return qn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cacheVersion=this.newVersion(),t.next=3,this.cacheProvider().flush();case 3:return t.abrupt("return",this);case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),e}();module.exports=Xi;
